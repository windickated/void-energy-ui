@use '/src/styles/abstracts/variables' as *;

// ==========================================================================
// ANIMATION LOGIC
// ==========================================================================

// --- 1. CONTROL MIXINS ---

// Standard Entry Transition (The "Cyber Slide")
@mixin entry-transition($duration: 0.4s, $delay: 0s) {
  // Use --ease-stabilize for the "Slide In" feel
  transition: 
    opacity $duration var(--ease-stabilize) $delay,
    transform $duration var(--ease-stabilize) $delay,
    filter $duration ease $delay; // Filter is expensive, keep it simple
  
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: blur(0);

  @starting-style {
    opacity: 0;
    transform: translateY(10px) scale(0.98); 
    filter: blur(var(--physics-blur)); 
  }
}

// Materialize (Holographic Entry)
@mixin animate-materialize($duration: 0.4s, $delay: 0s) {
  animation: materialize $duration cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
  animation-delay: $delay;
}

// --- 2. CORE KEYFRAMES ---

// A. SHIMMER (Loading/Energy)
@keyframes shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

// B. CYBER PULSE (Active States)
@keyframes cyber-pulse {
  0%, 100% {
    opacity: 1;
    box-shadow: 0 0 10px color-mix(in srgb, var(--energy-primary), transparent 60%);
  }
  50% {
    opacity: 0.9;
    box-shadow: 0 0 20px color-mix(in srgb, var(--energy-primary), transparent 20%);
  }
}

// C. MATERIALIZE (Hologram)
@keyframes materialize {
  0% {
    opacity: 0;
    transform: scale(0.95) translateY(10px);
    filter: blur(10px);
  }
  100% {
    opacity: 1;
    transform: scale(1);
    filter: blur(0px);
  }
}

// D. VOID BREATHE (Backgrounds)
@keyframes void-breathe {
  0%, 100% { transform: scale(1); opacity: 0.4; }
  50% { transform: scale(1.05); opacity: 0.6; }
}

// E. ROTATION (Loaders / Laser Border)
@keyframes rotate-center {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes rotate-laser {
  from { transform: translate(-50%, -50%) rotate(0deg); }
  to   { transform: translate(-50%, -50%) rotate(360deg); }
}

// F. PROGRESS FILL
@keyframes progress-fill {
  from { width: 0%; }
  to { width: 100%; }
}

@keyframes logo-enter {
  0% {
    opacity: 0;
    transform: scale(0.5);
    filter: blur(10px) grayscale(100%);
  }
  100% {
    opacity: 1;
    transform: scale(1);
    filter: blur(0) grayscale(0%);
  }
}