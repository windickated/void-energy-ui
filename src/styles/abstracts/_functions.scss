/*
 * ROLE: Color helper functions.
 * RESPONSIBILITY: Offer token-friendly tint, shade, fade, and blend operations across native colors and CSS variables.
 */

@use 'sass:color';
@use 'sass:meta';

// ==========================================================================
// COLOR FUNCTIONS (Polymorphic)
// ==========================================================================

// 1. TINT (Mix with White)
@function tint($color, $percentage) {
  @if meta.type-of($color) == 'color' {
    @return color.mix(white, $color, $percentage);
  } @else {
    @return color-mix(in srgb, $color, white $percentage);
  }
}

// 2. SHADE (Mix with Black)
@function shade($color, $percentage) {
  @if meta.type-of($color) == 'color' {
    @return color.mix(black, $color, $percentage);
  } @else {
    @return color-mix(in srgb, $color, black $percentage);
  }
}

// 3. FADE (Make Transparent)
// Usage: fade(red, 20%) -> 20% Transparent (80% Opacity)
@function fade($color, $percentage) {
  @if meta.type-of($color) == 'color' {
    @return color.change($color, $alpha: $percentage);
  } @else {
    @return color-mix(in srgb, $color, transparent $percentage);
  }
}

// 4. BLEND (Mix Two Colors)
@function blend($color, $other, $other-percentage) {
  @if meta.type-of($color) == 'color' and meta.type-of($other) == 'color' {
    @return color.mix($other, $color, $other-percentage);
  } @else {
    @return color-mix(in srgb, $color, $other $other-percentage);
  }
}
