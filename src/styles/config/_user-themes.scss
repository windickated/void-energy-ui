@use 'sass:map';
@use '../abstracts/variables' as *;

/* ==========================================================================
   VOID ENERGY THEME CONFIGURATION
   ==========================================================================
   
   MANUAL: HOW TO ADD OR MODIFY THEMES
   --------------------------------------------------------------------------
   This file defines the "Soul" (Colors) of the themes.
   However, the "Brain" (Physics logic) lives in Svelte.

   ðŸ‘‰ TO ADD A NEW THEME, YOU MUST EDIT TWO FILES:
   
   STEP 1: DEFINE COLORS (In this file)
      - Copy an existing block below (e.g., 'void') into `$themes`.
      - Rename the key (e.g., 'my-new-theme').
      - Adjust the palette colors.
      
   STEP 2: REGISTER LOGIC (In `src/stores/theme.svelte.ts`)
      - Add your new key to the `THEME_CONFIG` object.
      - Map it to its physics and mode:
        my-new-theme: { physics: 'glass', mode: 'dark' }
   
   --------------------------------------------------------------------------
   TECHNICAL DETAILS
   --------------------------------------------------------------------------
   The JS engine (`theme.svelte.ts`) will apply these 3 attributes automatically:
   <html data-atmosphere="name" data-physics="glass" data-mode="dark">

   - data-atmosphere : Triggers the color variables from this file.
   - data-physics    : Triggers the motion/texture variables from `_physics-presets.scss`.
   - data-mode       : Triggers the light/dark inversion logic.

   CRITICAL: If you do not register the theme in JS, the store will reject
   the switch and fallback to 'void'.

   ========================================================================== */

$shared-values: (
  'text-scale': 1,
  'font-atmos-heading': $font-tech,
  'font-atmos-body': $font-tech,
  'font-heading': var(--user-font-heading, var(--font-atmos-heading)),
  'font-body': var(--user-font-body, var(--font-atmos-body)),
);

$semantic-dark: (
  'color-premium': $semantic-dark-premium,
  'color-system': $semantic-dark-system,
  'color-success': $semantic-dark-success,
  'color-error': $semantic-dark-error,
  'gradient-premium': linear-gradient(to right, #ffa528, #ff8c00),
);

$semantic-light: (
  'color-premium': $semantic-light-premium,
  'color-system': $semantic-light-system,
  'color-success': $semantic-light-success,
  'color-error': $semantic-light-error,
  'gradient-premium': linear-gradient(to right, #f59e0b, #d97706),
);

// Configuration-driven atmospheres. Add or override entries in this map.
$themes: (
  // ==========================================================================
  // I. THE TECH SPECTRUM (Sci-Fi & Modern)
  // Focused on digital narratives.
  // ==========================================================================
  
  // 1. VOID (Default / CoNexus Branding)
  'void': (
      'type': 'dark',
      'physics': 'glass',
      'palette': map.merge(
          $shared-values,
          map.merge(
            $semantic-dark,
            (
              'bg-canvas': $void-deep,
              'bg-spotlight': $void-spotlight,
              'bg-surface': $void-navy,
              'bg-sink': rgba(0, 2, 41, 0.6),
              'energy-primary': $void-cyan,
              'energy-secondary': $void-blue,
              'border-highlight': rgba(56, 117, 250, 0.3),
              'border-shadow': rgba(56, 117, 250, 0.1),
              'text-main': #ffffff,
              'text-dim': rgba(255, 255, 255, 0.85),
              'text-mute': rgba(255, 255, 255, 0.6),
            )
          )
        ),
    ),

  // 2. ONYX (Professional / Cinema)
  'onyx': (
      'type': 'dark',
      'physics': 'glass',
      'palette': map.merge(
          $shared-values,
          map.merge(
            $semantic-dark,
            (
              'font-atmos-heading': $font-clean,
              'font-atmos-body': $font-clean,
              'bg-canvas': $onyx-deep,
              'bg-spotlight': $onyx-spotlight,
              'bg-surface': $onyx-glass,
              'bg-sink': #000000,
              'energy-primary': $onyx-white,
              'energy-secondary': $onyx-silver,
              'border-highlight': rgba($onyx-white, 0.2),
              'border-shadow': rgba($onyx-white, 0.05),
              'text-main': $onyx-white,
              'text-dim': $onyx-silver,
              'text-mute': rgba($onyx-silver, 0.6),
            )
          )
        ),
    ),

  // 3. TERMINAL (Hacker / Retro)
  'terminal': (
      'type': 'dark',
      'physics': 'retro',
      'palette': map.merge(
          $shared-values,
          map.merge(
            $semantic-dark,
            (
              'font-atmos-heading': $font-code,
              'font-atmos-body': $font-code,
              'bg-canvas': $term-deep,
              'bg-spotlight': $term-spotlight,
              'bg-surface': rgba(0, 20, 0, 0.9),
              'bg-sink': #000000,
              'energy-primary': $term-amber,
              'energy-secondary': $term-amber,
              'border-highlight': $term-amber,
              'border-shadow': $term-amber,
              'text-main': $term-amber,
              'text-dim': rgba(245, 197, 24, 0.7),
              'text-mute': rgba(245, 197, 24, 0.5),
              'color-premium': $void-cyan,
              'gradient-premium': linear-gradient(to right, #33e2e6, #00c2ff),
              'color-success': #00ff41,
              'color-error': #ff3333,
            )
          )
        ),
    ),

  // ==========================================================================
  // II. THE ORGANIC SPECTRUM (Nature & Survival)
  // Grounding elements: Flora, Fire, Ice.
  // ==========================================================================
  
  // 4. OVERGROWTH (Nature)
  'overgrowth': (
      'type': 'dark',
      'physics': 'glass',
      'palette': map.merge(
          $shared-values,
          map.merge(
            $semantic-dark,
            (
              'font-atmos-heading': $font-nature,
              'font-atmos-body': $font-nature,
              'bg-canvas': $nature-deep,
              'bg-spotlight': $nature-spotlight,
              'bg-surface': $nature-moss,
              'bg-sink': rgba(0, 20, 5, 0.8),
              'energy-primary': $nature-neon,
              'energy-secondary': $nature-gold,
              'border-highlight': rgba(0, 224, 85, 0.3),
              'border-shadow': rgba(0, 224, 85, 0.1),
              'text-main': #f0fff4,
              'text-dim': rgba(200, 255, 200, 0.8),
              'text-mute': rgba(200, 255, 200, 0.6),
            )
          )
        ),
    ),

  // 5. EMBER (Survival / Industrial)
  'ember': (
      'type': 'dark',
      'physics': 'glass',
      'palette': map.merge(
          $shared-values,
          map.merge(
            $semantic-dark,
            (
              'font-atmos-heading': $font-industrial,
              'font-atmos-body': $font-industrial,
              'bg-canvas': $ember-deep,
              'bg-spotlight': $ember-spotlight,
              'bg-surface': $ember-glass,
              'bg-sink': rgba(20, 10, 5, 0.8),
              'energy-primary': $ember-burn,
              'energy-secondary': $ember-rust,
              'border-highlight': rgba($ember-burn, 0.4),
              'border-shadow': rgba($ember-burn, 0.1),
              'text-main': #fff5e6,
              'text-dim': rgba(255, 230, 200, 0.8),
              'text-mute': rgba(255, 200, 160, 0.6),
            )
          )
        ),
    ),

  // 6. GLACIER (Cryogenics / Deep Sea)
  'glacier': (
      'type': 'dark',
      'physics': 'glass',
      'palette': map.merge(
          $shared-values,
          map.merge(
            $semantic-dark,
            (
              'font-atmos-heading': $font-cryo,
              'font-atmos-body': $font-cryo,
              'bg-canvas': $glacier-deep,
              'bg-spotlight': $glacier-spotlight,
              'bg-surface': $glacier-ice,
              'bg-sink': rgba(0, 15, 20, 0.8),
              'energy-primary': $glacier-frost,
              'energy-secondary': $glacier-chill,
              'border-highlight': rgba($glacier-frost, 0.3),
              'border-shadow': rgba($glacier-chill, 0.1),
              'text-main': #ffffff,
              'text-dim': rgba(224, 247, 250, 0.9),
              'text-mute': rgba(224, 247, 250, 0.6),
            )
          )
        ),
    ),

  // ==========================================================================
  // III. THE ARCANE SPECTRUM (Fantasy & Emotion)
  // Magic, Mystery, and Feeling.
  // ==========================================================================
  
  // 7. NEBULA (Magic / Synthwave)
  'nebula': (
      'type': 'dark',
      'physics': 'glass',
      'palette': map.merge(
          $shared-values,
          map.merge(
            $semantic-dark,
            (
              'font-atmos-heading': $font-arcane,
              'font-atmos-body': $font-tech,
              'bg-canvas': $nebula-deep,
              'bg-spotlight': $nebula-spotlight,
              'bg-surface': $nebula-mist,
              'bg-sink': rgba(10, 0, 20, 0.6),
              'energy-primary': $nebula-arcane,
              'energy-secondary': $nebula-void,
              'border-highlight': rgba($nebula-arcane, 0.5),
              'border-shadow': rgba($nebula-arcane, 0.1),
              'text-main': #f3e5ff,
              'text-dim': rgba(243, 229, 255, 0.8),
              'text-mute': rgba(243, 229, 255, 0.5),
            )
          )
        ),
    ),

  // 8. CRIMSON (Horror)
  'crimson': (
      'type': 'dark',
      'physics': 'glass',
      'palette': map.merge(
          $shared-values,
          map.merge(
            $semantic-dark,
            (
              'font-atmos-heading': $font-horror,
              'font-atmos-body': $font-horror,
              'bg-canvas': $crimson-deep,
              'bg-spotlight': $crimson-spotlight,
              'bg-surface': $crimson-blood,
              'bg-sink': rgba(20, 0, 0, 0.8),
              'energy-primary': $crimson-flare,
              'energy-secondary': $crimson-dark,
              'border-highlight': rgba(255, 60, 64, 0.3),
              'border-shadow': rgba(255, 60, 64, 0.1),
              'text-main': #ffe5e5,
              'text-dim': rgba(255, 200, 200, 0.8),
              'text-mute': rgba(255, 180, 180, 0.65),
            )
          )
        ),
    ),

  // 9. VELVET (Romance)
  'velvet': (
      'type': 'dark',
      'physics': 'glass',
      'palette': map.merge(
          $shared-values,
          map.merge(
            $semantic-dark,
            (
              'font-atmos-heading': $font-hand,
              'font-atmos-body': $font-hand,
              'bg-canvas': $velvet-deep,
              'bg-spotlight': $velvet-spotlight,
              'bg-surface': $velvet-silk,
              'bg-sink': rgba(30, 0, 10, 0.8),
              'energy-primary': $velvet-pink,
              'energy-secondary': $velvet-rose,
              'border-highlight': rgba(255, 128, 160, 0.3),
              'border-shadow': rgba(255, 128, 160, 0.1),
              'text-main': #fff0f5,
              'text-dim': rgba(255, 200, 220, 0.8),
              'text-mute': rgba(255, 180, 200, 0.6),
            )
          )
        ),
    ),

  // 10. SOLAR (Divine / Royalty)
  'solar': (
      'type': 'dark',
      'physics': 'glass',
      'palette': map.merge(
          $shared-values,
          map.merge(
            $semantic-dark,
            (
              'font-atmos-heading': $font-royal,
              'font-atmos-body': $font-book,
              'bg-canvas': $solar-deep,
              'bg-spotlight': $solar-spotlight,
              'bg-surface': $solar-glass,
              'bg-sink': rgba(20, 15, 0, 0.6),
              'energy-primary': $solar-gold,
              'energy-secondary': $solar-bronze,
              'border-highlight': rgba($solar-gold, 0.4),
              'border-shadow': rgba($solar-bronze, 0.1),
              'text-main': #fffae6,
              'text-dim': rgba(255, 250, 230, 0.8),
              'text-mute': rgba(255, 250, 230, 0.5),
            )
          )
        ),
    ),

  // ==========================================================================
  // IV. THE LIGHT SPECTRUM (Reading & Utility)
  // Optimized for high-contrast reading.
  // ==========================================================================
  
  // 11. PAPER (Reading / Classic)
  'paper': (
      'type': 'light',
      'physics': 'flat',
      'palette': map.merge(
          $shared-values,
          map.merge(
            $semantic-light,
            (
              'font-atmos-heading': $font-book,
              'font-atmos-body': $font-book,
              'bg-canvas': $paper-white,
              'bg-spotlight': $paper-spotlight,
              'bg-surface': $paper-sheet,
              'bg-sink': rgba(0, 0, 0, 0.05),
              'energy-primary': $paper-ink,
              'energy-secondary': $paper-pencil,
              'border-highlight': $paper-pencil,
              'border-shadow': $paper-pencil,
              'text-main': #000000,
              'text-dim': #333333,
              'text-mute': #666666,
            )
          )
        ),
    ),

  // 12. LABORATORY (Science / Architecture)
  'laboratory': (
      'type': 'light',
      'physics': 'flat',
      'palette': map.merge(
          $shared-values,
          map.merge(
            $semantic-light,
            (
              'font-atmos-heading': $font-lab,
              'font-atmos-body': $font-lab,
              'bg-canvas': $lab-white,
              'bg-spotlight': #ffffff,
              'bg-surface': $lab-surface,
              'bg-sink': rgba(0, 0, 0, 0.05),
              'energy-primary': $lab-blue,
              'energy-secondary': $lab-steel,
              'border-highlight': rgba($lab-blue, 0.5),
              'border-shadow': rgba($lab-steel, 0.2),
              'text-main': #0f172a,
              'text-dim': #334155,
              'text-mute': #94a3b8,
            )
          )
        ),
    )
);