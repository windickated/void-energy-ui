@use 'sass:map';
@use '../abstracts/variables' as *;

/* ==========================================================================
   VOID ENERGY THEME CONFIGURATION
   ==========================================================================
   
   MANUAL: HOW TO ADD A NEW THEME
   --------------------------------------------------------------------------
   This file defines the "Soul" (Colors) of the themes.
   The "Brain" (Physics & Logic) lives in the TypeScript Engine.

   üëâ TO ADD A NEW THEME, YOU MUST EDIT TWO FILES:
   
   STEP 1: DEFINE COLORS (In this file)
      1. Scroll down to the `$themes` map.
      2. Copy an existing block (e.g., 'void').
      3. Rename the key (e.g., 'my-new-theme').
      4. Adjust the palette colors to match your brand.
      
   STEP 2: REGISTER LOGIC (In `src/void-engine.ts`)
      1. Open `src/void-engine.ts`.
      2. Find the `THEME_CONFIG` constant.
      3. Add your new key and map it to a Physics preset and Mode:
         
         'my-new-theme': { physics: 'glass', mode: 'dark' },

   --------------------------------------------------------------------------
   HOW IT WORKS (Under the Hood)
   --------------------------------------------------------------------------
   The Void Engine applies 3 attributes to the <html> tag:
   <html data-atmosphere="name" data-physics="glass" data-mode="dark">

   1. data-atmosphere : Triggers the CSS Variables defined in this file.
   2. data-physics    : Triggers motion/texture (Glass/Flat/Retro) from `_physics-presets.scss`.
   3. data-mode       : Triggers light/dark contrast logic.

   ‚ö†Ô∏è CRITICAL: If you define colors here but forget STEP 2, the engine 
   will treat the theme as invalid and fallback to 'void'.

   ========================================================================== */

$shared-values: (
  'text-scale': 1,
  'font-atmos-heading': $font-tech,
  'font-atmos-body': $font-tech,
  'font-heading': var(--user-font-heading, var(--font-atmos-heading)),
  'font-body': var(--user-font-body, var(--font-atmos-body)),
);

$semantic-dark: (
  'color-premium': $semantic-dark-premium,
  'color-system': $semantic-dark-system,
  'color-success': $semantic-dark-success,
  'color-error': $semantic-dark-error,
  'gradient-premium': linear-gradient(to right, #ffa528, #ff8c00),
);

$semantic-light: (
  'color-premium': $semantic-light-premium,
  'color-system': $semantic-light-system,
  'color-success': $semantic-light-success,
  'color-error': $semantic-light-error,
  'gradient-premium': linear-gradient(to right, #f59e0b, #d97706),
);

/* =========================================
   DENSITY DEFINITIONS
   ========================================= */

// HIGH DENSITY (Compact) - For dashboards and data-heavy views
// Approx 30% reduction
$density-high: (
  'xs': 0.25rem, // 4px
  'sm': 0.5rem,  // 8px  (Was 16px)
  'md': 1rem,    // 16px (Was 24px)
  'lg': 1.5rem,  // 24px (Was 32px)
  'xl': 2rem,    // 32px (Was 48px)
  '2xl': 3rem    // 48px (Was 64px)
);

// LOW DENSITY (Spacious) - For editorial and luxury views
// Approx 20% increase
$density-low: (
  'xs': 0.75rem, // 12px
  'sm': 1.25rem, // 20px
  'md': 2rem,    // 32px (Was 24px)
  'lg': 2.5rem,  // 40px
  'xl': 4rem,    // 64px
  '2xl': 5rem    // 80px
);

$themes: (
  // ==========================================================================
  // I. THE TECH SPECTRUM (Sci-Fi & Modern)
  // Focused on digital narratives.
  // ==========================================================================
  // 1. VOID (Default / CoNexus Branding)
  'void': (
      'type': 'dark',
      'physics': 'glass',
      'palette': map.merge(
          $shared-values,
          map.merge(
            $semantic-dark,
            (
              'bg-canvas': $void-canvas,
              'bg-spotlight': $void-spotlight,
              'bg-surface': $void-glass,
              'bg-sink': rgba(0, 2, 41, 0.6),
              'energy-primary': $void-primary,
              'energy-secondary': $void-structure,
              'border-highlight': rgba($void-structure, 0.3),
              'border-shadow': rgba($void-structure, 0.1),
              'text-main': #ffffff,
              'text-dim': rgba(255, 255, 255, 0.85),
              'text-mute': rgba(255, 255, 255, 0.6),
            )
          )
        ),
    ),

  // 2. ONYX (Professional / Cinema)
  'onyx': (
      'type': 'dark',
      'physics': 'glass',
      'palette': map.merge(
          $shared-values,
          map.merge(
            $semantic-dark,
            (
              'font-atmos-heading': $font-clean,
              'font-atmos-body': $font-clean,
              'bg-canvas': $onyx-canvas,
              'bg-spotlight': $onyx-spotlight,
              'bg-surface': $onyx-glass,
              'bg-sink': #000000,
              'energy-primary': $onyx-primary,
              'energy-secondary': $onyx-structure,
              'border-highlight': rgba($onyx-primary, 0.2),
              'border-shadow': rgba($onyx-primary, 0.05),
              'text-main': $onyx-primary,
              'text-dim': $onyx-structure,
              'text-mute': rgba($onyx-structure, 0.6),
            )
          )
        ),
    ),

  // 3. TERMINAL (Hacker / Retro)
  'terminal': (
      'type': 'dark',
      'physics': 'retro',
      'palette': map.merge(
          $shared-values,
          map.merge(
            $semantic-dark,
            (
              'font-atmos-heading': $font-code,
              'font-atmos-body': $font-code,
              'bg-canvas': $term-canvas,
              'bg-spotlight': $term-spotlight,
              'bg-surface': $term-glass,
              'bg-sink': #000000,
              'energy-primary': $term-primary,
              'energy-secondary': $term-structure,
              'border-highlight': $term-structure,
              'border-shadow': $term-structure,
              'text-main': $term-primary,
              'text-dim': rgba($term-primary, 0.7),
              'text-mute': rgba($term-primary, 0.5),
              'color-premium': $void-primary,
              // Cyan override for terminal
              'gradient-premium': linear-gradient(
                  to right,
                  $void-primary,
                  #00c2ff
                ),
              'color-success': #00ff41,
              'color-error': #ff3333,
            )
          )
        ),
    ),

  // ==========================================================================
  // II. THE ORGANIC SPECTRUM (Nature & Survival)
  // Grounding elements: Flora, Fire, Ice.
  // ==========================================================================
  // 4. OVERGROWTH (Nature)
  'overgrowth': (
      'type': 'dark',
      'physics': 'glass',
      'palette': map.merge(
          $shared-values,
          map.merge(
            $semantic-dark,
            (
              'font-atmos-heading': $font-nature,
              'font-atmos-body': $font-nature,
              'bg-canvas': $nature-canvas,
              'bg-spotlight': $nature-spotlight,
              'bg-surface': $nature-glass,
              'bg-sink': rgba(0, 20, 5, 0.8),
              'energy-primary': $nature-primary,
              'energy-secondary': $nature-structure,
              'border-highlight': rgba($nature-primary, 0.3),
              'border-shadow': rgba($nature-primary, 0.1),
              'text-main': #f0fff4,
              'text-dim': rgba(200, 255, 200, 0.8),
              'text-mute': rgba(200, 255, 200, 0.6),
            )
          )
        ),
    ),

  // 5. EMBER (Survival / Industrial)
  'ember': (
      'type': 'dark',
      'physics': 'glass',
      'palette': map.merge(
          $shared-values,
          map.merge(
            $semantic-dark,
            (
              'font-atmos-heading': $font-industrial,
              'font-atmos-body': $font-industrial,
              'bg-canvas': $ember-canvas,
              'bg-spotlight': $ember-spotlight,
              'bg-surface': $ember-glass,
              'bg-sink': rgba(20, 10, 5, 0.8),
              'energy-primary': $ember-primary,
              'energy-secondary': $ember-structure,
              'border-highlight': rgba($ember-primary, 0.4),
              'border-shadow': rgba($ember-primary, 0.1),
              'text-main': #fff5e6,
              'text-dim': rgba(255, 230, 200, 0.8),
              'text-mute': rgba(255, 200, 160, 0.6),
            )
          )
        ),
    ),

  // 6. GLACIER (Cryogenics / Deep Sea)
  'glacier': (
      'type': 'dark',
      'physics': 'glass',
      'palette': map.merge(
          $shared-values,
          map.merge(
            $semantic-dark,
            (
              'font-atmos-heading': $font-cryo,
              'font-atmos-body': $font-cryo,
              'bg-canvas': $glacier-canvas,
              'bg-spotlight': $glacier-spotlight,
              'bg-surface': $glacier-glass,
              'bg-sink': rgba(0, 15, 20, 0.8),
              'energy-primary': $glacier-primary,
              'energy-secondary': $glacier-structure,
              'border-highlight': rgba($glacier-primary, 0.3),
              'border-shadow': rgba($glacier-structure, 0.1),
              'text-main': #ffffff,
              'text-dim': rgba(224, 247, 250, 0.9),
              'text-mute': rgba(224, 247, 250, 0.6),
            )
          )
        ),
    ),

  // ==========================================================================
  // III. THE ARCANE SPECTRUM (Fantasy & Emotion)
  // Magic, Mystery, and Feeling.
  // ==========================================================================
  // 7. NEBULA (Magic / Synthwave)
  'nebula': (
      'type': 'dark',
      'physics': 'glass',
      'palette': map.merge(
          $shared-values,
          map.merge(
            $semantic-dark,
            (
              'font-atmos-heading': $font-arcane,
              'font-atmos-body': $font-tech,
              'bg-canvas': $nebula-canvas,
              'bg-spotlight': $nebula-spotlight,
              'bg-surface': $nebula-glass,
              'bg-sink': rgba(10, 0, 20, 0.6),
              'energy-primary': $nebula-primary,
              'energy-secondary': $nebula-structure,
              'border-highlight': rgba($nebula-primary, 0.5),
              'border-shadow': rgba($nebula-primary, 0.1),
              'text-main': #f3e5ff,
              'text-dim': rgba(243, 229, 255, 0.8),
              'text-mute': rgba(243, 229, 255, 0.5),
            )
          )
        ),
    ),

  // 8. CRIMSON (Horror)
  'crimson': (
      'type': 'dark',
      'physics': 'glass',
      'palette': map.merge(
          $shared-values,
          map.merge(
            $semantic-dark,
            (
              'font-atmos-heading': $font-horror,
              'font-atmos-body': $font-horror,
              'bg-canvas': $crimson-canvas,
              'bg-spotlight': $crimson-spotlight,
              'bg-surface': $crimson-glass,
              'bg-sink': rgba(20, 0, 0, 0.8),
              'energy-primary': $crimson-primary,
              'energy-secondary': $crimson-structure,
              'border-highlight': rgba($crimson-primary, 0.3),
              'border-shadow': rgba($crimson-primary, 0.1),
              'text-main': #ffe5e5,
              'text-dim': rgba(255, 200, 200, 0.8),
              'text-mute': rgba(255, 180, 180, 0.65),
            )
          )
        ),
    ),

  // 9. VELVET (Romance)
  'velvet': (
      'type': 'dark',
      'physics': 'glass',
      'density': $density-low,
      'palette': map.merge(
          $shared-values,
          map.merge(
            $semantic-dark,
            (
              'font-atmos-heading': $font-hand,
              'font-atmos-body': $font-hand,
              'bg-canvas': $velvet-canvas,
              'bg-spotlight': $velvet-spotlight,
              'bg-surface': $velvet-glass,
              'bg-sink': rgba(30, 0, 10, 0.8),
              'energy-primary': $velvet-primary,
              'energy-secondary': $velvet-structure,
              'border-highlight': rgba($velvet-primary, 0.3),
              'border-shadow': rgba($velvet-primary, 0.1),
              'text-main': #fff0f5,
              'text-dim': rgba(255, 200, 220, 0.8),
              'text-mute': rgba(255, 180, 200, 0.6),
            )
          )
        ),
    ),

  // 10. SOLAR (Divine / Royalty)
  'solar': (
      'type': 'dark',
      'physics': 'glass',
      'palette': map.merge(
          $shared-values,
          map.merge(
            $semantic-dark,
            (
              'font-atmos-heading': $font-royal,
              'font-atmos-body': $font-book,
              'bg-canvas': $solar-canvas,
              'bg-spotlight': $solar-spotlight,
              'bg-surface': $solar-glass,
              'bg-sink': rgba(20, 15, 0, 0.6),
              'energy-primary': $solar-primary,
              'energy-secondary': $solar-structure,
              'border-highlight': rgba($solar-primary, 0.4),
              'border-shadow': rgba($solar-structure, 0.1),
              'text-main': #fffae6,
              'text-dim': rgba(255, 250, 230, 0.8),
              'text-mute': rgba(255, 250, 230, 0.5),
            )
          )
        ),
    ),

  // ==========================================================================
  // IV. THE LIGHT SPECTRUM (Reading & Utility)
  // Optimized for high-contrast reading.
  // ==========================================================================
  // 11. PAPER (Reading / Classic)
  'paper': (
      'type': 'light',
      'physics': 'flat',
      'density': $density-high,
      'palette': map.merge(
          $shared-values,
          map.merge(
            $semantic-light,
            (
              'font-atmos-heading': $font-book,
              'font-atmos-body': $font-book,
              'bg-canvas': $paper-canvas,
              'bg-spotlight': $paper-spotlight,
              'bg-surface': $paper-glass,
              'bg-sink': rgba(0, 0, 0, 0.05),
              'energy-primary': $paper-primary,
              'energy-secondary': $paper-structure,
              'border-highlight': $paper-structure,
              'border-shadow': $paper-structure,
              'text-main': #000000,
              'text-dim': #333333,
              'text-mute': #666666,
            )
          )
        ),
    ),

  // 12. LABORATORY (Science / Architecture)
  'laboratory': (
      'type': 'light',
      'physics': 'flat',
      'palette': map.merge(
          $shared-values,
          map.merge(
            $semantic-light,
            (
              'font-atmos-heading': $font-lab,
              'font-atmos-body': $font-lab,
              'bg-canvas': $lab-canvas,
              'bg-spotlight': $lab-spotlight,
              'bg-surface': $lab-glass,
              'bg-sink': rgba(0, 0, 0, 0.05),
              'energy-primary': $lab-primary,
              'energy-secondary': $lab-structure,
              'border-highlight': rgba($lab-primary, 0.5),
              'border-shadow': rgba($lab-structure, 0.2),
              'text-main': #0f172a,
              'text-dim': #334155,
              'text-mute': #94a3b8,
            )
          )
        ),
    )
);
